# application.properties - Configuración actualizada con soporte multimedia

# Server Configuration
server.port=8080
server.servlet.context-path=/
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/musica
spring.datasource.username=postgres
spring.datasource.password=mysecretpassword
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
file.upload-dir=uploads


# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=1GB
spring.servlet.multipart.max-request-size=1GB
spring.servlet.multipart.file-size-threshold=2KB

# Application Upload Directories
app.upload.dir=./uploads
app.upload.audio.dir=./uploads/audio
app.upload.images.dir=./uploads/images
app.upload.videos.dir=./uploads/videos
app.upload.waveforms.dir=./uploads/waveforms
app.upload.thumbnails.dir=./uploads/thumbnails
app.upload.avatars.dir=./uploads/images/avatars
app.upload.covers.dir=./uploads/images/covers

# File Size Limits (in bytes)
app.upload.max-image-size=10485760
app.upload.max-audio-size=524288000
app.upload.max-video-size=1073741824

# Allowed File Types
app.upload.allowed-image-types=image/jpeg,image/jpg,image/png,image/gif,image/webp,image/svg+xml
app.upload.allowed-audio-types=audio/mpeg,audio/mp3,audio/wav,audio/flac,audio/aac,audio/ogg,audio/wma,audio/m4a
app.upload.allowed-video-types=video/mp4,video/avi,video/mov,video/wmv,video/flv,video/webm,video/mkv,video/m4v

# Audio Processing Configuration
app.audio.waveform.enabled=true
app.audio.waveform.width=1800
app.audio.waveform.height=280
app.audio.thumbnail.enabled=true
app.audio.thumbnail.width=300
app.audio.thumbnail.height=300

# Image Processing Configuration
app.image.thumbnail.enabled=true
app.image.thumbnail.width=300
app.image.thumbnail.height=300
app.image.optimization.enabled=true
app.image.optimization.quality=85

# Video Processing Configuration
app.video.thumbnail.enabled=true
app.video.thumbnail.width=640
app.video.thumbnail.height=360
app.video.thumbnail.time=5

# Storage Configuration
app.storage.type=local
app.storage.cleanup.enabled=true
app.storage.cleanup.orphaned-files-days=7

# CDN Configuration (para producción)
app.cdn.enabled=false
app.cdn.base-url=https://cdn.example.com
app.cdn.audio-path=/audio
app.cdn.image-path=/images
app.cdn.video-path=/videos

# JWT Configuration
app.jwt.secret=mySecretKey
app.jwt.expiration=86400

# CORS Configuration
app.cors.allowed-origins=http://localhost:4200,http://localhost:3000
app.cors.allowed-methods=GET,POST,PUT,PATCH,DELETE,OPTIONS
app.cors.allowed-headers=*
app.cors.allow-credentials=true

# Logging Configuration
logging.level.com.uv.backend=DEBUG
logging.level.org.springframework.web.multipart=DEBUG
logging.level.org.springframework.security=DEBUG